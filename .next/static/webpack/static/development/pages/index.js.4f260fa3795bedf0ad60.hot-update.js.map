{"version":3,"file":"static/webpack/static/development/pages/index.js.4f260fa3795bedf0ad60.hot-update.js","sources":["webpack:///./components/Home/Home.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { HomeWrapperStyle } from \"../../PagesStyles/HomeStyle\";\nimport { tween, styler, easing } from \"popmotion\";\nimport { interpolate } from \"flubber\"; // ES6\nimport { SectionTitle } from \"./SectionTitle\";\nimport HomeText from \"../../content/home.json\";\nimport CrossfadeImage from \"../CrossFadeImage\";\nimport $ from \"jquery\";\nimport Bubbles from \"./Bubles\";\n\nconst images = [\n  \"../../static/imgPilates.jpg\",\n  \"../../static/imgTratamientos.jpg\",\n  \"../../static/imgEcografÃ­a.jpg\",\n  \"../../static/imgFisioterapia.jpg\"\n];\n\nvar interval;\n\nexport default class Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      shape: undefined,\n      vw: undefined,\n      vh: undefined,\n      animation: undefined,\n      formPosition: 0,\n      count: 0,\n      form: [\n        \"M 150.9 -224.2 C 196.3 -205.7 234.1 -165 246.2 -118.4 C 258.2 -71.8 244.4 -19.3 234.1 31.7 C 223.8 82.8 216.9 132.4 189.6 164.8 C 162.3 197.2 114.5 212.3 66.4 226.7 C 18.2 241.2 -30.3 254.9 -72.7 244.1 C -115.1 233.2 -151.2 197.8 -173.1 158.1 C -194.9 118.3 -202.4 74.2 -209.2 29.8 C -216 -14.6 -222.2 -59.5 -211 -101.5 C -199.8 -143.5 -171.3 -182.8 -133.2 -204.6 C -95.2 -226.4 -47.6 -230.7 2.6 -234.8 C 52.8 -238.8 105.6 -242.7 150.9 -224.2 Z\",\n        \"M 115.7 -186.7 C 150 -158 177.8 -126 192.7 -89.2 C 207.7 -52.4 209.7 -11 207.2 32.2 C 204.7 75.3 197.6 120.2 174.7 157.3 C 151.8 194.5 113.1 223.9 67.7 242.9 C 22.3 261.9 -29.9 270.6 -74 255.9 C -118.1 241.1 -154.3 203.1 -189.1 163.5 C -224 124 -257.5 82.9 -258.3 40.5 C -259.2 -1.9 -227.4 -45.6 -203.5 -90.8 C -179.6 -136.1 -163.6 -182.9 -131 -212.3 C -98.4 -241.8 -49.2 -253.9 -4.2 -247.3 C 40.7 -240.7 81.5 -215.4 115.7 -186.7 Z\",\n        \"M 160.9 -169.1 C 199.2 -122.6 214.6 -61.3 213.8 -0.8 C 213 59.6 195.9 119.3 157.6 162.6 C 119.3 205.9 59.6 233 1.8 231.2 C -56.1 229.4 -112.2 198.9 -143.4 155.5 C -174.5 112.2 -180.8 56.1 -183.6 -2.8 C -186.4 -61.8 -185.8 -123.5 -154.7 -170 C -123.5 -216.5 -61.8 -247.8 -0.2 -247.5 C 61.3 -247.3 122.6 -215.6 160.9 -169.1 Z\",\n        \"M 183.6 -174.4 C 230.9 -136.2 257.5 -68.1 245.2 -12.3 C 232.9 43.6 181.9 87.2 134.5 127.5 C 87.2 167.9 43.6 204.9 -6.2 211.2 C -56.1 217.4 -112.2 192.9 -149.9 152.5 C -187.5 112.2 -206.8 56.1 -207.9 -1.2 C -209.1 -58.5 -192.2 -116.9 -154.6 -155.1 C -116.9 -193.2 -58.5 -211.1 4.8 -216 C 68.1 -220.8 136.2 -212.6 183.6 -174.4 Z\"\n      ]\n    };\n  }\n\n  _mouseWheel = () => {\n    let delta = 0;\n    // detect available wheel event\n    const wheelEvent =\n      \"onwheel\" in document.createElement(\"div\")\n        ? \"wheel\" // Modern browsers support \"wheel\"\n        : document.onmousewheel !== undefined\n        ? \"mousewheel\" // Webkit and IE support at least \"mousewheel\"\n        : \"DOMMouseScroll\"; // let's assume that remaining browsers are older Firefox\n\n    $(window).on(wheelEvent, e => {\n      if (e.originalEvent.wheelDelta > 0) {\n        delta++;\n        if (delta >= 5) {\n          delta = 0;\n          // this._changeBubble();\n          this._changeSVGForm(\"up\");\n        }\n      } else {\n        delta--;\n        if (delta <= -5) {\n          delta = 0;\n          // this._changeBubble();\n          this._changeSVGForm(\"down\");\n        }\n      }\n    });\n  };\n\n  _changeBubble() {\n    console.log(\"Posicion +\", this.state.formPosition + 1);\n    console.log(document.querySelectorAll(\".bubble\"));\n\n    if (this.state.formPosition === 3) {\n      document.querySelectorAll(\".bubble\")[this.state.formPosition].className =\n        \"bubble\";\n      document.querySelectorAll(\".bubble\")[0].className = \"bubble active\";\n    } else {\n      document.querySelectorAll(\".bubble\")[this.state.formPosition].className =\n        \"bubble\";\n      document.querySelectorAll(\".bubble\")[\n        this.state.formPosition + 1\n      ].className = \"bubble active\";\n    }\n  }\n\n  _changeSVGForm = direction => {\n    console.log(\"hola\", interval);\n    var posicion = 1;\n    if (direction === \"down\") {\n      if (this.state.formPosition === this.state.form.length - 1) {\n        posicion = 0;\n      } else {\n        posicion = this.state.formPosition + 1;\n      }\n    } else {\n      if (this.state.formPosition === 0) {\n        posicion = 0;\n      } else {\n        posicion = this.state.formPosition - 1;\n      }\n    }\n\n    this.setState(\n      {\n        ...this.state,\n        formPosition: posicion\n      },\n      () => {\n        console.log(this.state.formPosition)\n        tween({\n          duration: 1000,\n          ease: easing.easeInOut\n        })\n          .pipe(\n            interpolate(\n              this.state.form[this.state.formPosition],\n              this.state.form[\n                this.state.formPosition === this.state.form.length - 1\n                  ? 0\n                  : this.state.formPosition + 1\n              ],\n              {\n                maxSegmentLength: 2\n              }\n            )\n          )\n          .start(styler(document.querySelector(\"#target\")).set(\"d\"));\n      }\n    );\n  };\n\n  _positioningSVG() {\n    document.getElementById(\"target\").style.transform = `translate(${this.state\n      .vw / 2}px, ${this.state.vh / 2}px) scale(2.4)`;\n  }\n\n  _startAnimation() {\n    this._positioningSVG();\n    this.state.animation.start(\n      styler(document.querySelector(\"#target\")).set(\"d\")\n    );\n    // this._changeSVGForm();\n  }\n\n  \n\n  componentDidMount() {\n    this._mouseWheel();\n    tween({\n      from: { scale: 2.4 },\n      to: { scale: 2.6 },\n      duration: 1800,\n      ease: easing.easeInOut,\n      flip: Infinity\n    }).start(v => {\n      document.getElementById(\"target\").style.transform = `translate(${this\n        .state.vw / 1.7}px, ${this.state.vh / 2}px) scale(${v.scale})`;\n    });\n\n    interval = setInterval(() => {\n      this._changeSVGForm(\"down\");\n    }, 9000);\n\n    this.setState(\n      {\n        ...this.state,\n        shape: styler(document.querySelector(\"#target\")),\n        vw: window.innerWidth,\n        vh: window.innerHeight,\n        animation: tween({\n          duration: 1000,\n          ease: easing.easeInOut\n        }).pipe(\n          interpolate(\n            this.state.form[this.state.formPosition],\n            this.state.form[this.state.formPosition + 1],\n            { maxSegmentLength: 2 }\n          )\n        )\n      },\n      this._startAnimation\n    );\n  }\n\n  render() {\n    return (\n      <HomeWrapperStyle>\n        <Bubbles />\n        <CrossfadeImage\n          src={images[this.state.formPosition]}\n          duration={3000}\n          timingFunction={\"ease-out\"}\n        />\n        <svg id=\"container\">\n          <clipPath id=\"svgPath\">\n            <path id=\"target\" />\n          </clipPath>\n        </svg>\n        <SectionTitle {...HomeText[this.state.formPosition]} />\n      </HomeWrapperStyle>\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAOA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAmBA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9CA;AAiEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAHA;AAMA;AACA;AACA;AACA;AAFA;AAaA;AADA;AAMA;AAEA;AACA;AA3GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAFA;AAgBA;AACA;;;AA8BA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAGA;AACA;;;AAgDA;AACA;AAEA;;;AAEA;AACA;AACA;AAAA;AAIA;;;AAIA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AALA;AAOA;AAEA;AAEA;AACA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AAFA;AAOA;AAAA;AAbA;AAmBA;;;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AArLA;AACA;;;;;A","sourceRoot":""}